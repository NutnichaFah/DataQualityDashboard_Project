{% extends 'base.html' %}

{% block style %}
    <link rel="stylesheet" href="../static/css/datasets.css">
{% endblock %}

{% block link %}
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <!-- DataTables JS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.3/css/dataTables.dataTables.css" />

{% endblock %}

{% block content %}

    <h1>Dataset Table</h1>
    <hr>

    <div class="dashboard-filter-group">
        <div class="select">
            <p>เลือกกระทรวง</p>
            <form>
                <select id="functionList" onchange="answerFormChange()" style="font-size:16px;">
                    <option> กระทรวง </option>
                    <option> สำนักงานสถิติแห่งชาติ </option>
                    <option> สำนักงานปลัดกระทรวงสาธารณสุข </option>
                    <option> กระทรวงการต่างประเทศ </option>
                </select>
            </form>
        </div>
            
        <div class="select">
            <p>เลือกหน่วยงาน</p>
            <form>
                <select id="answerFormList" style="font-size:16px;">
                    <option> หน่วยงาน </option>
                    <option id="option1"> </option>
                    <option id="option2"> </option>
                    <option id="option3"> </option>
                </select>
            </form>
        </div>

        
        <script src="../static/js/FormGrouptest.js"></script>
    </div>
    <hr>
    
    <!-- Datasets Table -->
    <table class="table table-striped ">
        <thead>
            <tr class="table">
                <th>Ref_id</th>
                <th>ชุดข้อมูล</th>
                <th>Title</th>
                <th>Timeliness</th>
                <th>Openness</th>
                <th>Downloadable</th>
                <th>Validity</th>
                <th>Consistency</th>
                <th>Machine_readable</th>
            </tr>
        </thead>
        <tbody>
            {% for dt in datasets %}
                <tr>
                    <td id="ref_id_{{ loop.index }}" onclick="showText({{ loop.index }})"><a href="{{ url_for('show_resource', pa_id= dt[0].ref_id) }}" class="no_ref_id">{{ dt[0].ref_id }}</a></td>
                    <td>{{ dt[1].name }}</td>
                    <td>{{ dt[1].title }}</td>
                    <td>{{ dt[0].timeliness }}</td>
                    <td>{{ dt[0].openness }}</td>
                    <td>{{ dt[0].downloadable }}</td>
                    <td>{{ dt[0].validity }}</td>
                    <td>{{ dt[0].consistency }}</td>
                    <td>{{ dt[0].machine_readable }}</td>
                </tr>
            {% endfor %}
            </tbody>
    <table>

    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <!-- DataTable -->
    <script src="https://cdn.datatables.net/2.0.3/js/dataTables.js"></script>

{% endblock %}

{% block javascript %}
        <script>
            function showText(index) {
                let code = document.getElementById('ref_id_' + index).textContent;
          }
        </script>
{% endblock %}

